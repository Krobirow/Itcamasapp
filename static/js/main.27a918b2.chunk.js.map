{"version":3,"sources":["assets/profilePic.jpg","redux/dialogsReducer.js","api/instance.js","api/api.js","redux/usersObjectsHelper.js","redux/userReducer.js","assets/757.svg","Components/common/Preloader/preloader.module.css","Components/Footer/footer.module.css","Components/Aside/aside.module.css","Components/common/FormsControls/FormsControls.js","redux/authReducer.js","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","Components/Aside/Aside.js","Components/Header/Header.js","Components/Header/HeaderContainer.js","Components/Footer/Footer.js","Components/Login/Login.js","Components/App/App.js","index.js","Components/Aside/Friends/friends.module.css","Components/Login/login.module.css","utils/validators/validators.js","Components/common/Preloader/Preloader.js","Components/App/App.module.css","Components/Header/header.module.css","Components/common/FormsControls/formControls.module.css","redux/profileReducer.js"],"names":["module","exports","initialState","dialogsData","id","name","ava","avatar","messagesData","message","addMessage","newMessageText","type","dialogsReducer","state","action","length","instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","onUnfollow","userId","delete","onFollow","post","profilesApi","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authApi","authMe","loginMe","email","password","rememberMe","captcha","logout","securityApi","updateObjectInArray","items","itemId","objPropName","newObjProps","map","obj","users","totalUsersCount","isFetching","followingInProgress","isToggleFetching","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setUsersTotalCount","totalCount","isToggleFollowingProgress","dispatch","a","followUnfollowToggle","apiMethod","actionCreator","resultCode","follow","unFollow","userReducer","followed","filter","FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Input","props","restProps","child","Textarea","createField","placeholder","validators","component","validate","SET_USER_DATA","GET_CAPTHCA_URL","login","isAuth","captchaURL","setAuthUserData","payload","getAuthUserData","getCaptchaURL","url","console","log","startLogout","authReducer","initialized","appReducer","asideFriends","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","sidebar","auth","form","formReducer","app","composeEnchances","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Aside","aside","asideNav","asideNavUl","link","activeClassName","activeLink","to","Header","header","src","alt","width","height","loginBlock","onClick","HeaderContainer","this","Component","connect","Footer","footer","LoginReduxForm","reduxForm","handleSubmit","onSubmit","required","formCheckbox","formGlobalError","startLogin","captchaCode","messages","stopSubmit","_error","loginWrapper","title","formWrapper","DialogsContainer","React","lazy","UsersContainer","ProfileContainer","AppWrapper","initializeApp","appWrapper","Suspense","fallback","Preloader","appWrapperContent","path","render","AppContainer","withRouter","App","ReactDOM","document","getElementById","value","maxlengthCreator","maxLength","preloader","myPostData","postText","likesCount","dislikesCount","editMode","addPost","newPostText","isToggleFetchingProfile","setStatus","getUserStatus","getProfilePage","updateUserStatus","file","photos","getState","Promise","reject","p","postId","editedProfile"],"mappings":"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","file":"static/js/main.27a918b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profilePic.945278b4.jpg\";","import avatar from '../assets/profilePic.jpg';\r\nconst ADD_MESSAGE = 'ADD_MESSAGE';\r\n\r\n\r\nlet initialState = {\r\n\tdialogsData: [\r\n\t\t{ id: 1, name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 2, name: \"Andrey\", ava: avatar },\r\n\t\t{ id: 3, name: \"Eugenij\", ava: avatar },\r\n\t\t{ id: 4, name: \"Sasha\", ava: avatar },\r\n\t\t{ id: 5, name: \"Ania\", ava: avatar },\r\n\t\t{ id: 6, name: \"Vasya\", ava: avatar },\r\n\t\t{ id: 7, name: \"Maks\", ava: avatar }\r\n\t],\r\n\r\n\tmessagesData: [\r\n\t\t{ id: 1, message: \"Hello, my friend\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 2, message: \"How are You ?\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 3, message: \"Thank You for asking!\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 4, message: \"I am good too\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 5, message: \"Are you saw Jhimmy today?\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 6, message: \"He was in a good mood!\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 7, message: \"Ok, I must go, buy\", name: \"Dimych\", ava: avatar },\r\n\t\t{ id: 8, message: \"Hello!\", name: \"me\", ava: avatar },\r\n\t\t{ id: 9, message: \"I am fine, how are You?\", name: \"me\", ava: avatar },\r\n\t\t{ id: 10, message: \"Nice\", name: \"me\", ava: avatar },\r\n\t\t{ id: 11, message: \"No, I dont, why you asking?\", name: \"me\", ava: avatar },\r\n\t\t{ id: 12, message: \"Oh, it's great!\", name: \"me\", ava: avatar },\r\n\t\t{ id: 13, message: \"I am happy for him!\", name: \"me\", ava: avatar },\r\n\t\t{ id: 14, message: \"Ok, buy!\", name: \"me\", ava: avatar }\r\n\t]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_MESSAGE:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmessagesData:  [\r\n\t\t\t\t\t...state.messagesData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: state.messagesData.length + 1,\r\n\t\t\t\t\t\tmessage: action.newMessageText,\r\n\t\t\t\t\t\tname: \"me\",\r\n\t\t\t\t\t\tava: avatar\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\tdefault: \r\n\t\t\treturn state;\r\n\t}\r\n}\r\nexport const addMessage = (newMessageText) => ({type: ADD_MESSAGE, newMessageText});\r\n\r\nexport default dialogsReducer;","import * as axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"78711187-66d9-492f-8dbd-95c7a78321b1\"\r\n    }\r\n})","import { instance } from \"./instance\";\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => response.data)\r\n    },\r\n    onUnfollow(userId = 1) {\r\n        return instance.delete(`follow/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n    onFollow(userId = 1) {\r\n        return instance.post(`follow/${userId}`)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const profilesApi = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status})\r\n        .then(response => response.data)\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response => response.data)\r\n    },\r\n    saveProfile(profile) {\r\n        return instance.put(`profile`, profile)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    authMe() {\r\n        return instance.get(`auth/me`)\r\n        .then(response => response.data)\r\n    },\r\n    loginMe(email, password, rememberMe = false, captcha = \"\") {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n        .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const securityApi = {\r\n    captcha() {\r\n        return instance.get(`security/get-captcha-url`)\r\n        .then(response => response.data)\r\n    }\r\n}\r\n","\r\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(obj => {\r\n        if (obj[objPropName] === itemId) {\r\n            return {...obj, ...newObjProps}\r\n        }\r\n        return obj;\r\n    });\r\n};","import { usersApi } from \"../api/api\";\r\nimport { updateObjectInArray } from \"./usersObjectsHelper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET_USERS_TOTAL_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n\tusers: [ ],\r\n\tpageSize: 5,\r\n\ttotalUsersCount: 21,\r\n\tcurrentPage: 1,\r\n\tisFetching: false,\r\n\tfollowingInProgress: [2, 3]\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FOLLOW: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: true})\r\n\t\t\t}\r\n\r\n\t\tcase UNFOLLOW: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tusers: updateObjectInArray(state.users, action.userId, \"id\", {followed: false})\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS: \r\n\t\t\treturn {...state, users: action.users};\r\n\r\n\t\tcase SET_CURRENT_PAGE: \r\n\t\t\treturn {\r\n\t\t\t\t...state, currentPage: action.currentPage\r\n\t\t\t}\r\n\r\n\t\tcase SET_USERS_TOTAL_COUNT: \r\n\t\t\treturn {\r\n\t\t\t\t...state, totalUsersCount: action.totalCount\r\n\t\t\t}\r\n\r\n\t\tcase TOGGLE_IS_FETCHING : \r\n\t\t\treturn {\r\n\t\t\t\t...state, isFetching: action.isFetching\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FOLLOWING_PROGRESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tfollowingInProgress: action.isFetching \r\n\t\t\t\t? [...state.followingInProgress, action.userId]\r\n\t\t\t\t:  state.followingInProgress.filter(id => id !== action.userId)\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst isToggleFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\nexport const setUsersTotalCount = (totalCount) => ({type: SET_USERS_TOTAL_COUNT, totalCount})\r\n\r\nexport const isToggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId});\r\n\r\nexport const getUsers = (currentPage = 1, pageSize) => async dispatch => {\r\n\tdispatch(isToggleFetching(true));\r\n\tdispatch(setCurrentPage(currentPage));\r\n\r\n\tlet data = await usersApi.getUsers(currentPage, pageSize);\r\n\tdispatch(setUsers(data.items));\r\n\tdispatch(setUsersTotalCount(data.totalCount));\r\n\tdispatch(isToggleFetching(false));\r\n}\r\n\r\nexport const followUnfollowToggle = async (dispatch, userId, apiMethod, actionCreator) => {\r\n\tdispatch(isToggleFollowingProgress(true, userId));\r\n\tlet data = await apiMethod(userId);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(actionCreator(userId));\r\n\t}\r\n\tdispatch(isToggleFollowingProgress(false, userId));\r\n}\r\nexport const follow = (userId = 1) => { return async dispatch => followUnfollowToggle(dispatch, userId, usersApi.onFollow, followSuccess);}\r\nexport const unFollow = (userId = 1) => { return async dispatch => followUnfollowToggle(dispatch, userId, usersApi.onUnfollow, unfollowSuccess);}\r\n\r\nexport default userReducer;","module.exports = __webpack_public_path__ + \"static/media/757.147142ba.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__3ZV4Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"footer_footer__28JO7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aside\":\"aside_aside__sa6QD\",\"asideNav\":\"aside_asideNav__LQWyy\",\"asideNavUl\":\"aside_asideNavUl__Ffl_G\",\"link\":\"aside_link__2_8Aw\",\"activeLink\":\"aside_activeLink__2laUh\"};","import React from \"react\";\r\nimport s from \"./formControls.module.css\";\r\nimport { required } from \"../../../utils/validators/validators\";\r\nimport { Field } from \"redux-form\";\r\n\r\nexport const FormControl = ({ input, meta: {touched, error}, children}) => {\r\n\tconst hasError = touched && error;\r\n\treturn (\r\n\t\t<div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n\t\t\t{children}\r\n\t\t\t{hasError && <span>{error}</span>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport const Input = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn (\r\n\t\t<FormControl {...props}>\r\n\t\t\t{\" \"}\r\n\t\t\t<input {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const Textarea = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn (\r\n\t\t<FormControl {...props}>\r\n\t\t\t{\" \"}\r\n\t\t\t<textarea {...input} {...restProps} />\r\n\t\t</FormControl>\r\n\t);\r\n};\r\n\r\nexport const createField = (type, placeholder, name, validators, component, props = {}, text = \"\") => (\r\n\t<div>\r\n\t\t<Field\r\n\t\t\ttype={type}\r\n\t\t\tplaceholder={placeholder}\r\n\t\t\tname={name}\r\n\t\t\tcomponent={component}\r\n\t\t\tvalidate={validators}\r\n\t\t/>\r\n\t</div>\r\n);\r\n","import { authApi, securityApi } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'samurai-network/auth/SET_USER_DATA';\r\nconst GET_CAPTHCA_URL = 'samurai-network/auth/GET_CAPTHCA_URL';\r\n\r\nlet initialState = {\r\n\tuserId: null,\r\n\temail: null,\r\n\tpassword: null,\r\n\trememberMe: false,\r\n\tlogin: null,\r\n\tisAuth: false,\r\n\tcaptchaURL: null \r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase SET_USER_DATA: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\t...action.payload\r\n\t\t\t}\r\n\t\tcase GET_CAPTHCA_URL: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tcaptchaURL: action.url\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nconst getCaptchaURLSuccess = (url) => ({type: GET_CAPTHCA_URL, url})\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const  getAuthUserData = () => async dispatch => { \r\n\tlet data =  await authApi.authMe()\r\n\t\r\n\tif (data.resultCode === 0) dispatch(setAuthUserData(data.data.id, data.data.email, data.data.login, true));\r\n};\r\n\r\nexport const startLogin = (email, password, rememberMe, captchaCode) => async dispatch => {\r\n\tlet data =  await authApi.loginMe(email, password, rememberMe, captchaCode);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch( getAuthUserData() )\r\n\t} else  {\r\n\t\tif ( data.resultCode === 10) {\r\n\t\t\tdispatch(getCaptchaURL());\r\n\t\t} \r\n\t\tlet message = data.messages.length > 0 ? data.messages[0] : \"Email or pass is wrong\";\r\n\t\tdispatch(stopSubmit(\"login\", {_error: message}));\r\n\t}\r\n};\r\n\r\nexport const getCaptchaURL = () => async dispatch => {\r\n\tconst data =  await securityApi.captcha();\r\n\r\n\tconst captchaURL = data.url;\r\n\tconsole.log(captchaURL);\r\n\r\n\tdispatch(getCaptchaURLSuccess(captchaURL));\r\n};\r\n\r\nexport const startLogout = () => async dispatch => {\r\n\tlet data =  await authApi.logout();\r\n\tif (data.resultCode === 0) dispatch( setAuthUserData(null, null, null, false) );\r\n};\r\n\r\nexport default authReducer;","import { getAuthUserData } from \"./authReducer\";\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n\tinitialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase INITIALIZED_SUCCESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tinitialized: true\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => dispatch => {\r\n\tlet promise = dispatch(getAuthUserData());\r\n\tpromise.then(()=>{\r\n\t\tdispatch(initializedSuccess());\r\n\t});\r\n}\r\n\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n\tasideFriends: [\r\n\t\t{ id: 1, name: \"Dimych\", ava: \"https://wallpapercave.com/wp/PCG5mFl.jpg\" },\r\n\t\t{ id: 2, name: \"Andrey\", ava: \"https://wallpapercave.com/wp/PCG5mFl.jpg\" },\r\n\t\t{ id: 3, name: \"Eugenij\", ava: \"https://wallpapercave.com/wp/PCG5mFl.jpg\" },\r\n\t]\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\treturn state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from 'redux-form';\r\n\r\n\r\nlet reducers = combineReducers({\r\n\tprofilePage: profileReducer,\r\n\tdialogsPage: dialogsReducer,\r\n\tusersPage: userReducer,\r\n\tsidebar: sidebarReducer,\r\n\tauth: authReducer,\r\n\tform: formReducer,\r\n\tapp: appReducer\r\n});\r\n\r\n// store without extension\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\n// Created store for chrome extension redux\r\nconst composeEnchances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnchances( applyMiddleware(thunkMiddleware)), );\r\n\r\nwindow.__store__ = store;\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './aside.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Friends from './Friends/Friends';\r\n\r\nconst Aside = (props) => {\r\n\treturn (\r\n\t\t<div className={s.aside}>\r\n\t\t\t<nav className={s.asideNav}>\r\n\t\t\t\t<ul className={s.asideNavUl}>\r\n\t\t\t\t\t<NavLink className={s.link} activeClassName={s.activeLink} to=\"/profile\"><li>Profile</li></NavLink>\r\n\t\t\t\t\t<NavLink className={s.link} activeClassName={s.activeLink} to=\"/dialogs\"><li>Messages</li></NavLink>\r\n\t\t\t\t\t<NavLink className={s.link} activeClassName={s.activeLink} to=\"/users\"><li>Users</li></NavLink>\r\n\t\t\t\t\t<NavLink className={s.link} to=\"#s\"><li>News</li></NavLink>\r\n\t\t\t\t\t<NavLink className={s.link} to=\"#s\"><li>Music</li></NavLink>\r\n\t\t\t\t\t<NavLink className={s.link} to=\"#s\"><li>Settings</li></NavLink>\r\n\t\t\t\t</ul>\r\n\t\t\t</nav>\r\n\t\t\t<div>\r\n\t\t\t\t{/* <Friends {...props.sidebar}/> */}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Aside;","import React from 'react';\r\nimport s from './header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\treturn (\r\n\t\t<header className={s.header}>\r\n\t\t\t<img\r\n\t\t\t\tsrc='https://www.designfreelogoonline.com/wp-content/uploads/2017/05/000840-Infinity-logo-maker-Free-infinito-Logo-design-06.png'\r\n\t\t\t\talt=''\r\n\t\t\t\twidth='100'\r\n\t\t\t\theight='50'\r\n\t\t\t/>\r\n\t\t\t<div className={s.loginBlock}>\r\n\t\t\t{ props.isAuth \r\n\t\t\t\t? <div> {props.login} - <button onClick={props.startLogout}>Log out</button> </div>\r\n\t\t\t\t: <NavLink to={'/login'}>Login</NavLink> }\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nexport default Header;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Header from './Header';\r\nimport {startLogout} from '../../redux/authReducer';\r\n\r\nclass HeaderContainer extends Component {\r\n\trender() {\r\n\t\treturn <Header {...this.props} />\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tisAuth: state.auth.isAuth,\r\n\tlogin: state.auth.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {startLogout})(HeaderContainer);\r\n","import React from 'react';\r\nimport s from './footer.module.css';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className={s.footer}>\r\n\t\t\t<div >\r\n\t\t\t\tfooter\r\n\t\t\t</div>\r\n    \t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport s from \"./login.module.css\";\r\nimport { reduxForm } from \"redux-form\";\r\nimport { startLogin, startLogout } from \"../../redux/authReducer\";\r\nimport { Input, createField } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst LoginForm = ({handleSubmit, error, captcha}) => {\r\n\treturn (\r\n\t\t<form onSubmit={handleSubmit} className={s.form} action=''>\r\n\t\t\t{createField(\"text\", \"Email\", \"email\", [required], Input)}\r\n\t\t\t{createField(\"password\", \"Password\", \"password\", [required], Input)}\r\n\t\t\t<div className={s.formCheckbox}>\r\n\t\t\t\t<span>\r\n\t\t\t\t\tRemember Me \r\n\t\t\t\t</span>\r\n\t\t\t\t{createField(\"checkbox\", null, \"rememberMe\", null, Input)}\r\n\t\t\t</div>\r\n\t\t\t\t{ captcha  && <img src={captcha} alt={''}/>}\r\n\t\t\t\t{ captcha  && createField(\"text\", \"captcha\", \"captcha\", [required], Input)}\r\n\t\t\t\t{ error && <div className={s.formGlobalError}>{error}</div> }\r\n\t\t\t<div>\r\n\t\t\t\t<button type='submit'>Login</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({ form: \"login\" })(LoginForm);\r\n\r\nconst Login = (props) => {\r\n\tconst onSubmit = (formData) => {\r\n\t\tconsole.log(formData);\r\n\t\tprops.startLogin(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n\t};\r\n\r\n\tif(props.isAuth) {\r\n\t\treturn <Redirect to={\"/profile\"} />\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={s.loginWrapper}>\r\n\t\t\t<h1 className={s.title}>Login</h1>\r\n\t\t\t<div className={s.formWrapper}>\r\n\t\t\t\t<LoginReduxForm captcha={props.captcha} onSubmit={onSubmit} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n\tisAuth: state.auth.isAuth, \r\n\tcaptcha: state.auth.captchaURL\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, {startLogin, startLogout})(Login);\r\n","import React, { Component } from \"react\";\r\nimport { connect, Provider } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { Route, withRouter, Switch, HashRouter } from \"react-router-dom\";\r\nimport { initializeApp } from \"../../redux/appReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport store from \"../../redux/redux-store\";\r\n\r\nimport s from \"./App.module.css\";\r\n\r\nimport Aside from \"../Aside/Aside\";\r\nimport HeaderContainer from \"../Header/HeaderContainer\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport LoginPage from \"../Login/Login\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"../Dialogs/DialogsContainer\"));\r\nconst UsersContainer = React.lazy(() => import(\"../Users/UsersContainer\"));\r\nconst ProfileContainer = React.lazy(() => import(\"../Profile/ProfileContainer\"));\r\n\r\nclass AppWrapper extends Component {\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.initializeApp();\r\n\t}\r\n\r\n\trender() {\r\n\t\tif(!this.props.initialized){ \r\n\t\t\treturn <Preloader/>\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={s.appWrapper}>\r\n\t\t\t\t\t<HeaderContainer />\r\n\t\t\t\t\t<Aside />\r\n\t\t\t\t\t<React.Suspense fallback={<Preloader />}>\r\n\t\t\t\t\t\t<div className={s.appWrapperContent}>\r\n\t\t\t\t\t\t\t<Route path='/dialogs' render={() => <DialogsContainer />} />\r\n\t\t\t\t\t\t\t<Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n\t\t\t\t\t\t\t<Route path='/users' render={() => <UsersContainer />} />\r\n\t\t\t\t\t\t\t<Route path='/login' render={() => <LoginPage />} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t<Footer />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\nconst mapStateToProps = state => ({\r\n\tinitialized: state.app.initialized\r\n})\r\n\r\nconst AppContainer = compose(\r\n\t\twithRouter,\r\n\t\tconnect(mapStateToProps, {initializeApp})\r\n\t)(AppWrapper);\r\n\r\nconst App = () => {\r\n\treturn \t<HashRouter>\r\n\t\t<Provider store={store}>\r\n\t\t\t<AppContainer />\r\n\t\t</Provider>\r\n\t</HashRouter>\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nimport App from './Components/App/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"friends_friends__1NhU7\",\"friendsTitle\":\"friends_friendsTitle__1idVp\",\"eachFriendWrap\":\"friends_eachFriendWrap__1HTKd\",\"friendsItem\":\"friends_friendsItem__Wc2Ju\",\"friendsIcon\":\"friends_friendsIcon__2ctZS\",\"friendsLink\":\"friends_friendsLink__2sEmq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginWrapper\":\"login_loginWrapper__2IJ76\",\"formWrapper\":\"login_formWrapper__6zG8f\",\"form\":\"login_form__36KX_\",\"formGlobalError\":\"login_formGlobalError__1S_Mt\",\"formCheckbox\":\"login_formCheckbox__2qzZu\"};","\r\nexport const required = value => {\r\n    \r\n    if(value) return  undefined\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxlengthCreator = maxLength => value => {\r\n    \r\n    if(value && value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","import React from \"react\";\r\nimport preloader from '../../../assets/757.svg';\r\nimport s from './preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n\treturn (\r\n\t\t<div className={s.preloader}>\r\n\t\t\t<img src={preloader} alt=\"preloader\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__1xJ7i\",\"appWrapperContent\":\"App_appWrapperContent__2RNWN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__3iBjY\",\"loginBlock\":\"header_loginBlock__3aQ0Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControls_formControl__16x_B\",\"error\":\"formControls_error__2Oldd\"};","import { profilesApi } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nconst EDIT_PROFILE_DESCRIPTION = 'EDIT_PROFILE_DESCRIPTION';\r\n\r\nlet initialState = {\r\n\tmyPostData: [\r\n\t\t{ id: 1, postText: \"It's my first post\", likesCount: 34, dislikesCount: 5 },\r\n\t\t{ id: 2, postText: \"Hi, how are you ?\", likesCount: 3, dislikesCount: 0 }\r\n\t],\r\n\tprofile: null,\r\n\tstatus: \"\",\r\n\tisFetching: false,\r\n\teditMode: false\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase ADD_POST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tmyPostData: [\r\n\t\t\t\t\t...state.myPostData,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: state.myPostData.length + 1,\r\n\t\t\t\t\t\tpostText: action.newPostText,\r\n\t\t\t\t\t\tlikesCount: 21,\r\n\t\t\t\t\t\tdislikesCount: 2,\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\tcase DELETE_POST: \r\n\t\t\treturn {\r\n\t\t\t\t...state, \r\n\t\t\t\tmyPostData: state.myPostData.filter(p => p.id !== action.postId)\r\n\t\t\t}\r\n\t\tcase SET_USER_PROFILE: \r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: action.profile\r\n\t\t\t}\r\n\t\tcase SET_STATUS:\r\n\t\t\treturn {\r\n\t\t\t\t...state, status: action.status\r\n\t\t\t}\r\n\t\tcase TOGGLE_IS_FETCHING : \r\n\t\t\treturn {\r\n\t\t\t\t...state, isFetching: action.isFetching\r\n\t\t\t}\r\n\t\tcase SAVE_PHOTO_SUCCESS: \r\n\t\t\treturn {\r\n\t\t\t\t...state, profile: {...state.profile, photos: action.editedProfile}\r\n\t\t\t}\r\n\t\tcase EDIT_PROFILE_DESCRIPTION: \r\n\t\t\treturn {\r\n\t\t\t\t...state, editMode: action.editMode\r\n\t\t\t}\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport const addPost = (newPostText) => ({type: ADD_POST, newPostText});\r\n\r\nconst setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nconst isToggleFetchingProfile = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nconst setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\nconst saveProfileSuccess = (editedProfile) => ({type: EDIT_PROFILE_DESCRIPTION, editedProfile});\r\n\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\n\r\nconst savePhotoSuccess = (photos) =>  ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserStatus = userId =>  async dispatch => {\r\n\tlet data =  await profilesApi.getStatus(userId);\r\n\tdispatch(setStatus(data));\r\n};\r\n\r\nexport const getProfilePage = userId => async dispatch => {\r\n\t\tdispatch(isToggleFetchingProfile(true));\r\n\t\t\r\n\t\tlet data =  await profilesApi.getProfile(userId)\r\n\t\t\tdispatch(isToggleFetchingProfile(false));\r\n\t\t\tdispatch(setUserProfile(data));\r\n};\r\n\r\nexport const updateUserStatus = status => async dispatch =>{ \r\n\tlet data = await profilesApi.updateStatus(status);\r\n\tif (data.resultCode === 0) dispatch(setStatus(status));\r\n};\r\n\r\nexport const savePhoto = file => async dispatch =>{ \r\n\tlet data = await profilesApi.savePhoto(file);\r\n\tif (data.resultCode === 0) dispatch(savePhotoSuccess(data.data.photos));\r\n};\r\n\r\nexport const saveProfile = profile => async (dispatch, getState) =>{\r\n\tconst userId = getState().auth.userId;\r\n\tlet data = await profilesApi.saveProfile(profile);\r\n\tif (data.resultCode === 0) {\r\n\t\tdispatch(getProfilePage(userId))\r\n\t} else {\r\n\t\tlet message = data.messages.length > 0 ? data.messages[0] : \"One of the links is invalid\";\r\n\t\tdispatch(stopSubmit(\"edit-profile\", {_error : message}))\r\n\t\treturn Promise.reject(data.messages[0]);\r\n\t}\t\r\n};\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}