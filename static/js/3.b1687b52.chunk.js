(this.webpackJsonpitcamsapp=this.webpackJsonpitcamsapp||[]).push([[3],{297:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(53),s=a(55),o=a(54),i=a(0),l=a.n(i),u=a(307),c=a.n(u),p=a(87),m=a(308),f=a.n(m),d=a(70),h=a(301),v=function(e){var t=Object(i.useState)(!1),a=Object(h.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(e.status),o=Object(h.a)(s,2),u=o[0],c=o[1];Object(i.useEffect)((function(){c(e.status)}),[e.status]);return l.a.createElement(l.a.Fragment,null,!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"No status here!")),n&&l.a.createElement("div",null,l.a.createElement("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(u)},value:u})))},b=function(e){var t=e.profile,a=e.status,n=Object(p.a)(e,["profile","status"]);return t?l.a.createElement("div",{className:f.a.profileInfo},l.a.createElement("div",{className:f.a.avatarDescr},l.a.createElement("img",{src:t.photos.large?t.photos.large:"https://wallpapercave.com/wp/PCG5mFl.jpg",alt:"ava"}),l.a.createElement("div",null,l.a.createElement(v,{status:a,updateUserStatus:n.updateUserStatus})))):l.a.createElement(d.a,null)},E=a(98),y=a(309),_=a.n(y),k=a(310),P=a.n(k),j=function(e){return l.a.createElement("div",{className:P.a.postWrap},l.a.createElement("div",{className:"".concat(P.a.post)},l.a.createElement("img",{src:"https://wallpapercave.com/wp/PCG5mFl.jpg",alt:"cat"}),l.a.createElement("span",null,e.postText),l.a.createElement("div",{className:P.a.likeDislikeBlock},l.a.createElement("span",{className:P.a.like},l.a.createElement("a",{href:"/like"},"Like \xa0")," \xa0",e.likesCount," \xa0"),l.a.createElement("span",{className:P.a.dislike},l.a.createElement("a",{href:"/dislike"},"Dislike \xa0")," \xa0",e.dislikesCount," \xa0"))))},g=a(88),O=a(89),S=a(63),w=a(33),T=Object(S.a)(1e3),N=Object(O.a)({form:"addPost"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit,className:_.a.form},l.a.createElement("div",null,l.a.createElement(g.a,{component:w.b,name:"newPostText",placeholder:"Enter Your post",validate:[S.b,T]})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"Add post")))})),I=l.a.memo((function(e){var t=e.myPostData.map((function(e){return l.a.createElement(j,{key:e.id,id:e.id,postText:e.postText,likesCount:e.likesCount,dislikesCount:e.dislikesCount})}));return l.a.createElement("div",{className:_.a.myPostsWrap},l.a.createElement("div",null,l.a.createElement("h2",null,"My Posts")),l.a.createElement("div",{className:_.a.MyPostsFormWraper},l.a.createElement(N,{onSubmit:function(t){e.addPost(t.newPostText)}})),l.a.createElement("h3",{className:_.a.myPostsTitle}," New Posts"),t)})),U=a(21),x=Object(U.b)((function(e){return{myPostData:e.profilePage.myPostData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(E.a)(t))}}}))(I),C=function(e){return l.a.createElement("div",{className:c.a.profileWrap},l.a.createElement(b,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),l.a.createElement(x,null))},D=a(11),W=a(7),A=a(300),F=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfilePage(e),this.props.getUserStatus(e)}},{key:"render",value:function(){return l.a.createElement("div",null,this.props.isFetching?l.a.createElement(d.a,null):l.a.createElement(C,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus})))}}]),a}(i.Component);t.default=Object(W.d)(Object(U.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isFetching:e.profilePage.isFetching,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfilePage:E.c,getUserStatus:E.d,updateUserStatus:E.e}),D.g,A.a)(F)},300:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(52),r=a(53),s=a(55),o=a(54),i=a(0),l=a.n(i),u=a(11),c=a(21),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(s.a)(i,t);var a=Object(o.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(u.a,{to:"/login"})}}]),i}(l.a.Component);return Object(c.b)(p)(t)}},301:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(97);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},307:function(e,t,a){e.exports={profileWrap:"profile_profileWrap__3bBGX"}},308:function(e,t,a){e.exports={profileInfo:"profileInfo_profileInfo__2EG2v",avatar:"profileInfo_avatar__3n4wi",avatarDescr:"profileInfo_avatarDescr__30GlT"}},309:function(e,t,a){e.exports={myPostsWrap:"myposts_myPostsWrap__1tOyj",myPostsTitle:"myposts_myPostsTitle__29n4n"}},310:function(e,t,a){e.exports={postWrap:"post_postWrap__unKsU",post:"post_post__3aesT",active:"post_active__26Key",likeDislikeBlock:"post_likeDislikeBlock__TcjAr",like:"post_like__1OllM",dislike:"post_dislike__2ILXH"}}}]);
//# sourceMappingURL=3.b1687b52.chunk.js.map