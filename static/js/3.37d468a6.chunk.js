(this.webpackJsonpitcamsapp=this.webpackJsonpitcamsapp||[]).push([[3],{290:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(52),r=a(53),s=a(55),o=a(54),i=a(0),l=a.n(i),u=a(29),c=a(21),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){Object(s.a)(i,t);var a=Object(o.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(u.a,{to:"/login"})}}]),i}(l.a.Component);return Object(c.b)(p)(t)}},291:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(95);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,s=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,s=l}finally{try{n||null==i.return||i.return()}finally{if(r)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},297:function(e,t,a){e.exports={profileWrap:"profile_profileWrap__3bBGX"}},298:function(e,t,a){e.exports={profileInfo:"profileInfo_profileInfo__2EG2v",avatar:"profileInfo_avatar__3n4wi"}},299:function(e,t,a){e.exports={myPostsWrap:"myposts_myPostsWrap__1tOyj",myPostsTitle:"myposts_myPostsTitle__29n4n"}},300:function(e,t,a){e.exports={postWrap:"post_postWrap__unKsU",post:"post_post__3aesT",active:"post_active__26Key",likeDislikeBlock:"post_likeDislikeBlock__TcjAr",like:"post_like__1OllM",dislike:"post_dislike__2ILXH"}},301:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(53),s=a(55),o=a(54),i=a(0),l=a.n(i),u=a(297),c=a.n(u),p=a(298),m=a.n(p),f=a(69),d=a(291),h=function(e){var t=Object(i.useState)(!1),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(i.useState)(e.status),o=Object(d.a)(s,2),u=o[0],c=o[1];Object(i.useEffect)((function(){c(e.status)}),[e.status]);return l.a.createElement(l.a.Fragment,null,!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"No status here!")),n&&l.a.createElement("div",null,l.a.createElement("input",{onChange:function(e){c(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(u)},value:u})))},v=a(10),E=a.n(v),b=function(e){var t=e.profile,a=e.status,n=e.isOwner,r=e.updateUserStatus,s=e.savePhoto;if(!t)return l.a.createElement(f.a,null);return l.a.createElement("div",{className:m.a.profileInfo},l.a.createElement("div",{className:m.a.avatar},l.a.createElement("img",{src:t.photos.large||E.a,alt:"ava"}),l.a.createElement("div",null,l.a.createElement(h,{status:a,updateUserStatus:r}))),l.a.createElement("div",null,n&&l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})))},y=a(96),P=a(299),k=a.n(P),_=a(300),g=a.n(_),O=function(e){return l.a.createElement("div",{className:g.a.postWrap},l.a.createElement("div",{className:"".concat(g.a.post)},l.a.createElement("img",{src:E.a,alt:"cat"}),l.a.createElement("span",null,e.postText),l.a.createElement("div",{className:g.a.likeDislikeBlock},l.a.createElement("span",{className:g.a.like},l.a.createElement("a",{href:"/like"},"Like \xa0")," \xa0",e.likesCount," \xa0"),l.a.createElement("span",{className:g.a.dislike},l.a.createElement("a",{href:"/dislike"},"Dislike \xa0")," \xa0",e.dislikesCount," \xa0"))))},j=a(86),S=a(128),w=a(63),I=a(33),N=Object(w.a)(1e3),T=Object(S.a)({form:"addPost"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit,className:k.a.form},l.a.createElement("div",null,l.a.createElement(j.a,{component:I.b,name:"newPostText",placeholder:"Enter Your post",validate:[w.b,N]})),l.a.createElement("div",null,l.a.createElement("button",{type:"submit"},"Add post")))})),U=l.a.memo((function(e){var t=e.myPostData.map((function(e){return l.a.createElement(O,{key:e.id,id:e.id,postText:e.postText,likesCount:e.likesCount,dislikesCount:e.dislikesCount})}));return l.a.createElement("div",{className:k.a.myPostsWrap},l.a.createElement("div",null,l.a.createElement("h2",null,"My Posts")),l.a.createElement("div",{className:k.a.MyPostsFormWraper},l.a.createElement(T,{onSubmit:function(t){e.addPost(t.newPostText)}})),l.a.createElement("h3",{className:k.a.myPostsTitle}," New Posts"),t)})),x=a(21),C=Object(x.b)((function(e){return{myPostData:e.profilePage.myPostData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(y.a)(t))}}}))(U),D=function(e){return l.a.createElement("div",{className:c.a.profileWrap},l.a.createElement(b,{savePhoto:e.savePhoto,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus}),l.a.createElement(C,null))},W=a(29),A=a(8),F=a(290),B=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfilePage(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement("div",null,this.props.isFetching?l.a.createElement(f.a,null):l.a.createElement(D,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,savePhoto:this.props.savePhoto,updateUserStatus:this.props.updateUserStatus})))}}]),a}(i.Component);t.default=Object(A.d)(Object(x.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isFetching:e.profilePage.isFetching,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getProfilePage:y.c,getUserStatus:y.d,updateUserStatus:y.f,savePhoto:y.e}),W.g,F.a)(B)}}]);
//# sourceMappingURL=3.37d468a6.chunk.js.map